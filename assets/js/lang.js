const translations = {
  pl: {
    // META
    meta_title: "Audyty dostępności WCAG – Twoja Firma",
    meta_description:
      "Profesjonalne audyty dostępności WCAG 2.1/2.2 dla stron internetowych i aplikacji webowych.",

    // HEADER / BRAND
    skip_to_content: "Przejdź do treści głównej",
    brand_name: "Twoja Firma Accessibility",
    brand_tagline: "Audyty WCAG dla stron i aplikacji webowych",

    menu_services: "Usługi",
    menu_process: "Jak pracuję",
    menu_about: "O mnie",
    menu_contact: "Kontakt",

    // HERO
    hero_title:
      "Dostępność cyfrowa bez komplikacji. Profesjonalne audyty WCAG 2.1 / 2.2.",
    hero_lead:
      "Pomagam firmom i instytucjom upewnić się, że ich serwisy, sklepy i aplikacje są dostępne dla wszystkich użytkowników – zgodnie z wymogami prawnymi i dobrymi praktykami UX.",
    hl_1: "+5 lat doświadczenia w audytach",
    hl_2: "Zgodność z WCAG 2.1 / 2.2 AA",
    hl_3: "Raport z jasnymi rekomendacjami",
    cta_quote: "Poproś o wycenę",
    cta_services: "Zobacz zakres usług",
    hero_meta:
      "<strong>Na start:</strong> darmowa 20-minutowa konsultacja online – sprawdzimy, jak wygląda dostępność Twojej strony.",

    hero_card_title: "Co zawiera audyt dostępności?",
    audit_1: "Analizę Twojej strony pod kątem WCAG 2.1 / 2.2",
    audit_2: "Testy z klawiaturą i czytnikami ekranu",
    audit_3: "Listę błędów z priorytetami i przykładami",
    audit_4: "Rekomendacje rozwiązań dla zespołu Dev / UX",
    hero_card_footer:
      "Otrzymasz konkretny, zrozumiały raport – bez żargonu, z przykładami kodu i propozycjami zmian.",

    // USŁUGI
    services_heading: "Usługi audytu dostępności",
    services_intro:
      "Oferuję audyty dostępności cyfrowej dla stron internetowych i aplikacji webowych – od krótkich przeglądów, po pełne raporty zgodne z WCAG 2.1 / 2.2 na poziomie AA. Zakres współpracy dopasowuję do wielkości serwisu i Twoich potrzeb.",

    service_full_title: "Pełny audyt WCAG",
    service_full_desc:
      "Kompleksowa analiza dostępności Twojego serwisu – warstwa wizualna, treści, nawigacja, kod front-endu.",
    service_full_1: "Zakres zgodny z WCAG 2.1 / 2.2 AA",
    service_full_2: "Analiza reprezentatywnych widoków i ścieżek użytkownika",
    service_full_3: "Raport z priorytetami i przykładami rozwiązań",

    service_quick_title: "Szybki przegląd dostępności",
    service_quick_desc:
      "Jeśli potrzebujesz szybkiej informacji „gdzie jesteśmy z dostępnością?” – wykonuję skrócony przegląd kluczowych elementów.",
    service_quick_1: "Ocena najważniejszych widoków",
    service_quick_2: "Lista najpilniejszych problemów",
    service_quick_3: "Rekomendacje pierwszych kroków",

    service_support_title: "Konsultacje i wsparcie wdrożeniowe",
    service_support_desc:
      "Pomagam zespołom developerów, projektantów i redaktorów poprawnie wdrożyć rekomendacje po audycie.",
    service_support_1: "Review makiet i komponentów",
    service_support_2: "Konsultacje kodu front-end",
    service_support_3: "Wsparcie przy testach regresji",

    services_note:
      "<strong>Nie wiesz, od czego zacząć?</strong> Napisz kilka zdań o swoim serwisie – zaproponuję wariant audytu i przybliżony zakres prac.",

    // PROCES
    process_heading: "Jak wygląda współpraca?",
    process_intro:
      "Stawiam na prosty, przejrzysty proces – od pierwszego kontaktu, przez audyt, aż po konsultację wyników. Na każdym etapie wiesz, co dokładnie się dzieje i jakie są kolejne kroki.",

    process_1_title: "Poznanie potrzeb",
    process_1_desc:
      "Krótkie spotkanie online lub wymiana maili – omawiamy Twój serwis, grupy użytkowników oraz wymagania (np. prawne).",
    process_2_title: "Ustalenie zakresu audytu",
    process_2_desc:
      "Wspólnie wybieramy kluczowe widoki i ścieżki, określamy harmonogram oraz sposób przekazania wyników.",
    process_3_title: "Realizacja audytu",
    process_3_desc:
      "Łączę analizę automatyczną z ręcznymi testami klawiaturą i czytnikami ekranu. Dokumentuję problemy i przykłady.",
    process_4_title: "Raport i omówienie",
    process_4_desc:
      "Otrzymujesz raport z priorytetami i rekomendacjami. Omawiamy wyniki na spotkaniu i planujemy kolejne kroki.",

    // O MNIE
    about_heading: "O mnie",
    about_p1:
      "Nazywam się <strong>Imię i Nazwisko</strong> i od kilku lat zajmuję się dostępnością cyfrową oraz projektowaniem przyjaznych interfejsów. Wspierałem zespoły tworzące serwisy e-commerce, portale informacyjne oraz systemy dla sektora publicznego.",
    about_p2:
      "W swojej pracy stawiam na <strong>konkret</strong> – jasno opisane problemy, ich wpływ na użytkowników oraz praktyczne rekomendacje dla zespołu projektowego i developerskiego.",
    about_p3:
      "Interesuje mnie nie tylko spełnienie formalnych wymogów WCAG, ale przede wszystkim realne ułatwienie korzystania z Twojego serwisu osobom z różnymi potrzebami.",
    about_note:
      "Tekst w tej sekcji możesz swobodnie edytować – dopasuj go do swojego doświadczenia, specjalizacji oraz stylu komunikacji.",

    about_specializations_title: "Obszary, w których mogę pomóc",
    about_s1: "Strony firmowe i wizerunkowe",
    about_s2: "Sklepy internetowe i platformy SaaS",
    about_s3: "Serwisy i BIP instytucji publicznych",
    about_s4: "Design systemy i biblioteki komponentów",
    about_specializations_note:
      "Jeśli Twojego typu serwisu nie ma na liście – napisz, opisz krótko swój projekt. Odpowiem, czy mogę pomóc.",

    // KONTAKT
    contact_heading: "Skontaktuj się",
    contact_intro:
      "Napisz kilka zdań o swoim serwisie lub aplikacji – podaj adres, typ usługi, szacowaną liczbę podstron. Odpowiem z propozycją zakresu audytu i przybliżoną wyceną.",
    contact_email_label: "E-mail:",
    contact_phone_label: "Telefon:",
    contact_meeting:
      "Możesz także zaproponować termin krótkiego spotkania online (np. przez Teams / Google Meet) – omówimy Twoje potrzeby.",
    contact_often: "Najczęściej audytuję:",
    contact_site1: "Strony firmowe",
    contact_site2: "Sklepy online",
    contact_site3: "Portale informacyjne",
    contact_site4: "Serwisy publiczne",
    contact_site5: "Aplikacje webowe",

    form_name: "Imię i nazwisko / firma",
    form_email: "Adres e-mail",
    form_website: "Adres strony / aplikacji (URL)",
    form_message: "Krótki opis potrzeb",
    form_submit: "Wyślij wiadomość",

    // FOOTER
    footer_company: "Twoja Firma Accessibility. Wszelkie prawa zastrzeżone.",
    footer_note: "Strona zaprojektowana z myślą o dostępności (WCAG 2.1).",
  },

  en: {
    // META
    meta_title: "WCAG accessibility audits – Your Company",
    meta_description:
      "Professional WCAG 2.1 / 2.2 accessibility audits for websites and web applications.",

    // HEADER / BRAND
    skip_to_content: "Skip to main content",
    brand_name: "Your Company Accessibility",
    brand_tagline: "WCAG audits for websites and web applications",

    menu_services: "Services",
    menu_process: "How I work",
    menu_about: "About me",
    menu_contact: "Contact",

    // HERO
    hero_title:
      "Digital accessibility without complications. Professional WCAG 2.1 / 2.2 audits.",
    hero_lead:
      "I help companies and institutions make sure their websites, stores and applications are accessible to all users – in line with legal requirements and good UX practice.",
    hl_1: "+5 years of audit experience",
    hl_2: "WCAG 2.1 / 2.2 AA compliance",
    hl_3: "Report with clear recommendations",
    cta_quote: "Request a quote",
    cta_services: "See scope of services",
    hero_meta:
      "<strong>To begin:</strong> a free 20-minute online consultation – we will check the accessibility of your website.",

    hero_card_title: "What does the accessibility audit include?",
    audit_1: "Analysis of your website for WCAG 2.1 / 2.2",
    audit_2: "Keyboard and screen reader testing",
    audit_3: "List of issues with priorities and examples",
    audit_4: "Solution recommendations for the Dev / UX team",
    hero_card_footer:
      "You will receive a clear, actionable report – no jargon, with code examples and proposed changes.",

    // SERVICES
    services_heading: "Accessibility audit services",
    services_intro:
      "I offer digital accessibility audits for websites and web applications – from quick reviews to full reports compliant with WCAG 2.1 / 2.2 at level AA. The scope of the engagement is tailored to the size of your service and your needs.",

    service_full_title: "Full WCAG audit",
    service_full_desc:
      "A comprehensive analysis of your service’s accessibility – visual layer, content, navigation and front-end code.",
    service_full_1: "Scope aligned with WCAG 2.1 / 2.2 AA",
    service_full_2: "Analysis of representative views and user flows",
    service_full_3: "Report with priorities and example solutions",

    service_quick_title: "Quick accessibility review",
    service_quick_desc:
      "If you need a quick answer to “where are we with accessibility?” – I perform a shortened review of key elements.",
    service_quick_1: "Assessment of the most important views",
    service_quick_2: "List of the most urgent issues",
    service_quick_3: "Recommendations for first steps",

    service_support_title: "Consulting and implementation support",
    service_support_desc:
      "I help development, design and content teams correctly implement recommendations after the audit.",
    service_support_1: "Review of wireframes and components",
    service_support_2: "Front-end code consulting",
    service_support_3: "Support during regression testing",

    services_note:
      "<strong>Not sure where to start?</strong> Write a few sentences about your service – I will suggest an audit option and an approximate scope of work.",

    // PROCESS
    process_heading: "How does the cooperation look?",
    process_intro:
      "I focus on a simple, transparent process – from the first contact, through the audit, to discussing the results. At every stage you know exactly what is happening and what the next steps are.",

    process_1_title: "Understanding your needs",
    process_1_desc:
      "A short online meeting or email exchange – we discuss your service, user groups and requirements (e.g. legal).",
    process_2_title: "Defining the audit scope",
    process_2_desc:
      "Together we select key views and user flows, set the timeline and the way the results will be delivered.",
    process_3_title: "Audit execution",
    process_3_desc:
      "I combine automated analysis with manual keyboard and screen reader testing, documenting issues and examples.",
    process_4_title: "Report and review",
    process_4_desc:
      "You receive a report with priorities and recommendations. We discuss the results and plan next steps.",

    // ABOUT
    about_heading: "About me",
    about_p1:
      "My name is <strong>First name Last name</strong> and for the last few years I have been working with digital accessibility and designing user-friendly interfaces. I have supported teams building e-commerce services, news portals and systems for the public sector.",
    about_p2:
      "In my work I focus on <strong>clarity</strong> – clearly described issues, their impact on users, and practical recommendations for design and development teams.",
    about_p3:
      "I am interested not only in meeting formal WCAG requirements, but above all in genuinely making it easier for people with different needs to use your service.",
    about_note:
      "You can freely edit the text in this section – adapt it to your experience, specialisation and communication style.",

    about_specializations_title: "Areas where I can help",
    about_s1: "Corporate and brand websites",
    about_s2: "Online stores and SaaS platforms",
    about_s3: "Websites and BIP portals of public institutions",
    about_s4: "Design systems and component libraries",
    about_specializations_note:
      "If your type of service is not listed – write and briefly describe your project. I will let you know if I can help.",

    // CONTACT
    contact_heading: "Get in touch",
    contact_intro:
      "Write a few sentences about your website or application – include the URL, type of service and estimated number of subpages. I will respond with a suggested audit scope and an approximate quote.",
    contact_email_label: "E-mail:",
    contact_phone_label: "Phone:",
    contact_meeting:
      "You can also propose a time for a short online meeting (e.g. via Teams / Google Meet) – we will discuss your needs.",
    contact_often: "Most often I audit:",
    contact_site1: "Corporate sites",
    contact_site2: "Online stores",
    contact_site3: "News portals",
    contact_site4: "Public sector websites",
    contact_site5: "Web applications",

    form_name: "Name / company",
    form_email: "E-mail address",
    form_website: "Website / application (URL)",
    form_message: "Short description of your needs",
    form_submit: "Send message",

    // FOOTER
    footer_company: "Your Company Accessibility. All rights reserved.",
    footer_note:
      "The website is designed with accessibility in mind (WCAG 2.1).",
  },
};

/* =========================================================
   LOGIKA JĘZYKÓW + FADE + SUWAK EN/PL
========================================================= */
/* =========================================================
   LANG SYSTEM — CLEAN, FAST, SEO-FRIENDLY, ZERO-LAG
========================================================= */

(function () {
  let currentLang = localStorage.getItem("lang") || "pl";

  /* =========================================================
     APPLY TRANSLATIONS
  ========================================================= */
  function applyTranslations() {
    const dict = translations[currentLang];
    if (!dict) return;

    // Update <html lang="">
    document.documentElement.lang = currentLang;

    // Update <title>
    if (dict.meta_title) document.title = dict.meta_title;

    // Update meta description
    const meta = document.querySelector('meta[name="description"]');
    if (meta && dict.meta_description) {
      meta.setAttribute("content", dict.meta_description);
    }

    const elements = document.querySelectorAll("[data-i18n]");

    // Fade-out
    elements.forEach(el => el.classList.add("lang-fade"));

    // Update in next frame (no delay — zero lag)
    requestAnimationFrame(() => {
      elements.forEach(el => {
        const key = el.getAttribute("data-i18n");

        // Change only if translation exists
        if (dict[key] !== undefined) {
          el.innerHTML = dict[key];
        }
      });

      // Fade-in next frame
      requestAnimationFrame(() => {
        elements.forEach(el => el.classList.remove("lang-fade"));
      });
    });

    updateLangToggleUI();
  }

  /* =========================================================
     UPDATE LANGUAGE TOGGLE UI (slider knob + aria-label)
  ========================================================= */
  function updateLangToggleUI() {
    const btn = document.getElementById("langToggle");
    if (!btn) return;

    const label = btn.querySelector(".lang-switch-label");

    if (currentLang === "pl") {
      btn.classList.remove("active");
      label.textContent = "EN";
      btn.setAttribute("aria-label", "Zmień język na angielski");
    } else {
      btn.classList.add("active");
      label.textContent = "PL";
      btn.setAttribute("aria-label", "Switch language to Polish");
    }
  }

  /* =========================================================
     SET LANGUAGE
  ========================================================= */
  function setLanguage(lang) {
    if (!translations[lang]) return;

    currentLang = lang;
    localStorage.setItem("lang", lang);

    applyTranslations();
  }

  /* =========================================================
     ON PAGE LOAD
  ========================================================= */
  document.addEventListener("DOMContentLoaded", () => {
    const btn = document.getElementById("langToggle");

    // Instant slider movement (no delay)
    if (btn) {
      btn.addEventListener("click", () => {
        const newLang = currentLang === "pl" ? "en" : "pl";

        // Move knob visually first (instant feedback)
        btn.classList.toggle("active", newLang === "en");
        btn.querySelector(".lang-switch-label").textContent =
          newLang === "en" ? "PL" : "EN";

        // Then update translations
        setLanguage(newLang);
      });
    }

    // Apply stored language on load
    applyTranslations();
  });

  // Make lang() available globally (optional)
  window.setLanguage = setLanguage;
})();
